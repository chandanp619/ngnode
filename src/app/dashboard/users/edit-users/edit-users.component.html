<div class="admin-container" *ngIf="AuthStatus">
    <div class="container">
  <div class="row" >
    <nav class="navbar navbar-expand-sm bg-light">
          <div class="container-fluid">
            <div class="navbar-header"> </div>
            <ul class="navbar-nav">
                <li class="nav-item"><a class="nav-link" routerLink="/dashboard">Dashboard</a></li>
                <li class="nav-item"><a class="nav-link" routerLink="/dashboard/posts">Posts</a></li>
                <li class="nav-item"><a class="nav-link" routerLink="/dashboard/pages">Pages</a></li>
                <li class="nav-item"><a class="nav-link" routerLink="/dashboard/media">Media</a></li>
                <li class="nav-item"><a class="nav-link" routerLink="/dashboard/users">Users</a></li>
                <li class="nav-item"><a class="nav-link" routerLink="/dashboard/users/logout">Logout</a> </li>
            </ul>
          </div>
        </nav>
      </div>
      <div class="row" >
        <h2 class="text-center">Edit User</h2>
      </div>
     <!-- ------------------------------------------ 
  <div class="row">
    <div class="col-md-4 text-center">
                {{StatusMessage}}
                <form novalidate >

                <p>Username: <input type="text" class="form-control" name="username" id="username"  [ngModel]="model.username"  placeholder="Username" /></p>
                <p>Password: <input type="password" class="form-control" name="password" id="password" [ngModel]="model.password"  placeholder="Password" /></p>
                <p>Email: <input type="email" class="form-control" name="email" id="email" [ngModel]="model.email"  placeholder="Email" /></p>
                <p>User Type: <select class="form-control" name="usertype" id="usertype" [ngModel]="model.usertype"  placeholder="User Type">
                    <option value="user">User</option>
                    <option value="administrator">Administrator</option>
                </select></p>

                <p>User Additional Fields: <button (click)="addRow()">Add Meta</button></p>
                <div class="meta-area">
                    <table class="meta-table" cellspacing="0" cellpadding="10">
                      <tr class="meta-row">
                        <td><input type="textbox" name="meta_key"  placeholder="Key" /></td>
                        <td><textarea name="meta_value" placeholder="Value"></textarea></td>
                      </tr>
                    </table>
              </div>

                <p>
                  <input type="hidden" [ngModel]="model._id" name="_id" id="_id"   />
                  <button type="submit" class="button button-default" name="submt" id="submt" (click)="submtUpdtUser()">Submit</button></p>
                </form>
     
    </div>
  </div>
 ---------------------------------------------- -->
  <div class="row" >
      <form *ngIf="model" [formGroup]="EditForm" novalidate autocomplete="off">

          <div class="form-group">
              <label for="username">UserName:</label>
              <input type="text" class="form-control" formControlName="username" id="username" name="username">
            </div>
        <div class="form-group">
          <label for="email">Email:</label>
          <input type="email" class="form-control" formControlName="email" id="email" name="email">
        </div>
        <div class="form-group">
          <label for="pwd">Password:</label>
          <input type="password" class="form-control" formControlName="password" id="pwd" name="password">
        </div>
        
        <div class="form-group">
          <label for="lname">User Type:</label>
          <select class="form-control" name="usertype" id="usertype" formControlName="usertype"  placeholder="User Type">
              <option value="user">User</option>
              <option value="administrator">Administrator</option>
          </select>
        </div>
        <h4>Profile Picture</h4>
        <figure>
          <input type="hidden" name="image" id="image" formControlName="image" />
          <img src="data:image/jpeg;base64,{{UserImage.value}}" width="200" *ngIf="UserImage"  />
        </figure>
        <div class="form-group">
            <button type="button" class="btn btn-default" data-toggle="modal" data-target="#ImageModal">Choose Image</button>
        </div>


        
        <h4>Additional Data | <span class="add-more" (click)="AddMore()"> + </span></h4>
        <div class="form-group" formArrayName="meta" *ngFor="let item of EditForm.get('meta').controls; let i = index;">
          <div [formGroupName]="i">
            <div class="row">
              <div class="col-md-6"><input class="form-control" formControlName="key" placeholder="Key"></div>
              <div class="col-md-4"><textarea class="form-control" formControlName="value" placeholder="Value"></textarea></div>
              <div class="col-md-2"><span class="add-more" (click)="RemoveMeta(i)"> - </span></div>
            </div>
          </div>
        </div>
        
  <div class="form-group">
      <input type="hidden" formControlName="_id" name="_id" id="_id"   />
      <button type="submit" class="btn btn-default" (click)="submtUpdtUser()">Submit</button>
  </div>     
      </form>
    </div>


</div>
</div>

<!-- The Modal -->
<div class="modal" id="ImageModal">
    <div class="modal-dialog">
      <div class="modal-content">
  
        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">Upload Media</h4>
          <button class="btn ins_btn" (click)="InsertMedia()">Insert</button>
          <button type="button" id="CloseImageModal" class="close" data-dismiss="modal">&times;</button>
        </div>
  
        <!-- Modal body -->
        <div class="modal-body">
            <app-media></app-media>
          <!--  -->



        </div>
  
        <!-- Modal footer -->
        <div class="modal-footer">
          
        </div>
  
      </div>
    </div>
  </div>